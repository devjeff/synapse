Add a cache to `have_seen_events`.
